  [1m[35m (481.9ms)[0m  [1m[35mCREATE DATABASE "restaurant_booking_test" ENCODING = 'utf8'[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2131392716881435770)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRestaurants (20190618143155)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" bigserial primary key)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190618143155"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTables (20190618143348)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "tables" ("id" bigserial primary key, "restaurant_id" bigint, "number" integer, CONSTRAINT "fk_rails_0700cfe41e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_tables_on_restaurant_id" ON "tables"  ("restaurant_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190618143348"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20190618143435)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190618143435"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20190618143600)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" bigserial primary key, "user_id" bigint, "restaurant_id" bigint, "time_from" timestamp, "time_to" timestamp, CONSTRAINT "fk_rails_ef0571f117"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_1733781fe9"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_bookings_on_user_id" ON "bookings"  ("user_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_bookings_on_restaurant_id" ON "bookings"  ("restaurant_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190618143600"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableBookingsTables (20190618145110)
  [1m[35m (8.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "bookings_tables" ("booking_id" bigint, "table_id" bigint, CONSTRAINT "fk_rails_0930a2abae"
FOREIGN KEY ("booking_id")
  REFERENCES "bookings" ("id")
, CONSTRAINT "fk_rails_ca99adb71b"
FOREIGN KEY ("table_id")
  REFERENCES "tables" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_bookings_tables_on_booking_id" ON "bookings_tables"  ("booking_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_bookings_tables_on_table_id" ON "bookings_tables"  ("table_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190618145110"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddWorkingHoursToRestaurants (20190618160753)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "restaurants" ADD "working_from" timestamp[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "restaurants" ADD "working_to" timestamp[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190618160753"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-06-18 15:47:16.290424"], ["updated_at", "2019-06-18 15:47:16.290424"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2131392716881435770)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.7ms)[0m  [1m[32mINSERT INTO "restaurants" ("working_from", "working_to") VALUES ($1, $2) RETURNING "id"[0m  [["working_from", "2019-06-18 10:00:00"], ["working_to", "2019-06-18 23:00:00"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Create (1.1ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 1], ["number", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (7.6ms)[0m  [1m[32mINSERT INTO "users" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.6ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."number" = $1 AND "tables"."restaurant_id" = $2[0m  [["number", 1], ["restaurant_id", 1]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBooking Exists (6.3ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" INNER JOIN "bookings_tables" ON "bookings_tables"."booking_id" = "bookings"."id" INNER JOIN "tables" ON "tables"."id" = "bookings_tables"."table_id" WHERE (time_from >= '2019-06-18 18:00:00' AND time_from < '2019-06-18 19:00:00' OR (time_to > '2019-06-18 18:00:00' AND time_to <= '2019-06-18 19:00:00')) AND (tables.id IN (1)) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBooking Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["restaurant_id", 1], ["time_from", "2019-06-18 18:00:00"], ["time_to", "2019-06-18 19:00:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 1], ["table_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.4ms)[0m  [1m[32mINSERT INTO "restaurants" ("working_from", "working_to") VALUES ($1, $2) RETURNING "id"[0m  [["working_from", "2019-06-18 10:00:00"], ["working_to", "2019-06-18 23:00:00"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTable Create (0.6ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 2], ["number", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBooking Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["restaurant_id", 2], ["time_from", "2019-06-18 18:00:00"], ["time_to", "2019-06-18 21:00:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 2], ["table_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."number" = $1 AND "tables"."restaurant_id" = $2[0m  [["number", 1], ["restaurant_id", 2]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBooking Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" INNER JOIN "bookings_tables" ON "bookings_tables"."booking_id" = "bookings"."id" INNER JOIN "tables" ON "tables"."id" = "bookings_tables"."table_id" WHERE (time_from >= '2019-06-18 18:00:00' AND time_from < '2019-06-18 20:00:00' OR (time_to > '2019-06-18 18:00:00' AND time_to <= '2019-06-18 20:00:00')) AND (tables.id IN (2)) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.5ms)[0m  [1m[32mINSERT INTO "restaurants" ("working_from", "working_to") VALUES ($1, $2) RETURNING "id"[0m  [["working_from", "2019-06-18 10:00:00"], ["working_to", "2019-06-18 23:00:00"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTable Create (0.6ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 3], ["number", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."number" = $1 AND "tables"."restaurant_id" = $2[0m  [["number", 1], ["restaurant_id", 3]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.7ms)[0m  [1m[32mINSERT INTO "restaurants" ("working_from", "working_to") VALUES ($1, $2) RETURNING "id"[0m  [["working_from", "2019-06-18 10:00:00"], ["working_to", "2019-06-18 23:00:00"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTable Create (0.8ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 4], ["number", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 4], ["restaurant_id", 4], ["time_from", "2019-06-18 18:00:00"], ["time_to", "2019-06-18 19:00:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 3], ["table_id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."number" = $1 AND "tables"."restaurant_id" = $2[0m  [["number", 1], ["restaurant_id", 4]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mBooking Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" INNER JOIN "bookings_tables" ON "bookings_tables"."booking_id" = "bookings"."id" INNER JOIN "tables" ON "tables"."id" = "bookings_tables"."table_id" WHERE (time_from >= '2019-06-18 19:00:00' AND time_from < '2019-06-18 19:30:00' OR (time_to > '2019-06-18 19:00:00' AND time_to <= '2019-06-18 19:30:00')) AND (tables.id IN (4)) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 4], ["restaurant_id", 4], ["time_from", "2019-06-18 19:00:00"], ["time_to", "2019-06-18 19:30:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 4], ["table_id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.6ms)[0m  [1m[32mINSERT INTO "restaurants" ("working_from", "working_to") VALUES ($1, $2) RETURNING "id"[0m  [["working_from", "2019-06-18 10:00:00"], ["working_to", "2019-06-18 23:00:00"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTable Create (11.0ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 5], ["number", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTable Create (9.2ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 5], ["number", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["restaurant_id", 5], ["time_from", "2019-06-18 18:00:00"], ["time_to", "2019-06-18 18:30:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 5], ["table_id", 5]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."number" = $1 AND "tables"."restaurant_id" = $2[0m  [["number", 2], ["restaurant_id", 5]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mBooking Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" INNER JOIN "bookings_tables" ON "bookings_tables"."booking_id" = "bookings"."id" INNER JOIN "tables" ON "tables"."id" = "bookings_tables"."table_id" WHERE (time_from >= '2019-06-18 18:00:00' AND time_from < '2019-06-18 18:30:00' OR (time_to > '2019-06-18 18:00:00' AND time_to <= '2019-06-18 18:30:00')) AND (tables.id IN (6)) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 5], ["restaurant_id", 5], ["time_from", "2019-06-18 18:00:00"], ["time_to", "2019-06-18 18:30:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 6], ["table_id", 6]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.6ms)[0m  [1m[32mINSERT INTO "restaurants" ("working_from", "working_to") VALUES ($1, $2) RETURNING "id"[0m  [["working_from", "2019-06-18 10:00:00"], ["working_to", "2019-06-18 23:00:00"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTable Create (0.8ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 6], ["number", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 6], ["restaurant_id", 6], ["time_from", "2019-06-18 18:00:00"], ["time_to", "2019-06-19 02:00:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 7], ["table_id", 7]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."number" = $1 AND "tables"."restaurant_id" = $2[0m  [["number", 1], ["restaurant_id", 6]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mBooking Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" INNER JOIN "bookings_tables" ON "bookings_tables"."booking_id" = "bookings"."id" INNER JOIN "tables" ON "tables"."id" = "bookings_tables"."table_id" WHERE (time_from >= '2019-06-18 16:58:00.737454' AND time_from < '2019-06-18 17:58:00.737454' OR (time_to > '2019-06-18 16:58:00.737454' AND time_to <= '2019-06-18 17:58:00.737454')) AND (tables.id IN (7)) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 6], ["restaurant_id", 6], ["time_from", "2019-06-18 16:58:00.737454"], ["time_to", "2019-06-18 17:58:00.737454"]]
  [1m[36mBooking::HABTM_Tables Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 8], ["table_id", 7]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.5ms)[0m  [1m[32mINSERT INTO "restaurants" ("working_from", "working_to") VALUES ($1, $2) RETURNING "id"[0m  [["working_from", "2019-06-18 10:00:00"], ["working_to", "2019-06-18 23:00:00"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTable Create (0.7ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 7], ["number", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mBooking Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 7], ["restaurant_id", 7], ["time_from", "2019-06-18 18:00:00"], ["time_to", "2019-06-19 02:00:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.8ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 9], ["table_id", 8]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."number" = $1 AND "tables"."restaurant_id" = $2[0m  [["number", 1], ["restaurant_id", 7]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mBooking Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" INNER JOIN "bookings_tables" ON "bookings_tables"."booking_id" = "bookings"."id" INNER JOIN "tables" ON "tables"."id" = "bookings_tables"."table_id" WHERE (time_from >= '2019-06-18 16:58:07.916147' AND time_from < '2019-06-18 17:58:07.916147' OR (time_to > '2019-06-18 16:58:07.916147' AND time_to <= '2019-06-18 17:58:07.916147')) AND (tables.id IN (8)) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mBooking Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 7], ["restaurant_id", 7], ["time_from", "2019-06-18 16:58:07.916147"], ["time_to", "2019-06-18 17:58:07.916147"]]
  [1m[36mBooking::HABTM_Tables Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 10], ["table_id", 8]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.6ms)[0m  [1m[32mINSERT INTO "restaurants" ("working_from", "working_to") VALUES ($1, $2) RETURNING "id"[0m  [["working_from", "2019-06-18 10:00:00"], ["working_to", "2019-06-18 23:00:00"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTable Create (0.7ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 8], ["number", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 8], ["restaurant_id", 8], ["time_from", "2019-06-18 18:00:00"], ["time_to", "2019-06-19 02:00:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 11], ["table_id", 9]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."number" = $1 AND "tables"."restaurant_id" = $2[0m  [["number", 1], ["restaurant_id", 8]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mBooking Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" INNER JOIN "bookings_tables" ON "bookings_tables"."booking_id" = "bookings"."id" INNER JOIN "tables" ON "tables"."id" = "bookings_tables"."table_id" WHERE (time_from >= '2019-06-18 16:58:27.233157' AND time_from < '2019-06-18 17:58:27.233157' OR (time_to > '2019-06-18 16:58:27.233157' AND time_to <= '2019-06-18 17:58:27.233157')) AND (tables.id IN (9)) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 8], ["restaurant_id", 8], ["time_from", "2019-06-18 16:58:27.233157"], ["time_to", "2019-06-18 17:58:27.233157"]]
  [1m[36mBooking::HABTM_Tables Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 12], ["table_id", 9]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.5ms)[0m  [1m[32mINSERT INTO "restaurants" ("working_from", "working_to") VALUES ($1, $2) RETURNING "id"[0m  [["working_from", "2019-06-18 10:00:00"], ["working_to", "2019-06-18 23:00:00"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTable Create (0.6ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 9], ["number", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."number" = $1 AND "tables"."restaurant_id" = $2[0m  [["number", 1], ["restaurant_id", 9]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mBooking Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" INNER JOIN "bookings_tables" ON "bookings_tables"."booking_id" = "bookings"."id" INNER JOIN "tables" ON "tables"."id" = "bookings_tables"."table_id" WHERE (time_from >= '2019-06-18 18:00:00' AND time_from < '2019-06-18 19:00:00' OR (time_to > '2019-06-18 18:00:00' AND time_to <= '2019-06-18 19:00:00')) AND (tables.id IN (10)) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 9], ["restaurant_id", 9], ["time_from", "2019-06-18 18:00:00"], ["time_to", "2019-06-18 19:00:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 13], ["table_id", 10]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.3ms)[0m  [1m[32mINSERT INTO "restaurants" ("working_from", "working_to") VALUES ($1, $2) RETURNING "id"[0m  [["working_from", "2019-06-18 10:00:00"], ["working_to", "2019-06-18 23:00:00"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTable Create (0.3ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 10], ["number", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 10], ["restaurant_id", 10], ["time_from", "2019-06-18 18:00:00"], ["time_to", "2019-06-18 21:00:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 14], ["table_id", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."number" = $1 AND "tables"."restaurant_id" = $2[0m  [["number", 1], ["restaurant_id", 10]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mBooking Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" INNER JOIN "bookings_tables" ON "bookings_tables"."booking_id" = "bookings"."id" INNER JOIN "tables" ON "tables"."id" = "bookings_tables"."table_id" WHERE (time_from >= '2019-06-18 18:00:00' AND time_from < '2019-06-18 20:00:00' OR (time_to > '2019-06-18 18:00:00' AND time_to <= '2019-06-18 20:00:00')) AND (tables.id IN (11)) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("working_from", "working_to") VALUES ($1, $2) RETURNING "id"[0m  [["working_from", "2019-06-18 10:00:00"], ["working_to", "2019-06-18 23:00:00"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mTable Create (0.3ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 11], ["number", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."number" = $1 AND "tables"."restaurant_id" = $2[0m  [["number", 1], ["restaurant_id", 11]]
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.3ms)[0m  [1m[32mINSERT INTO "restaurants" ("working_from", "working_to") VALUES ($1, $2) RETURNING "id"[0m  [["working_from", "2019-06-18 10:00:00"], ["working_to", "2019-06-18 23:00:00"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mTable Create (0.4ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 12], ["number", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 12], ["restaurant_id", 12], ["time_from", "2019-06-18 18:00:00"], ["time_to", "2019-06-18 19:00:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 15], ["table_id", 13]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."number" = $1 AND "tables"."restaurant_id" = $2[0m  [["number", 1], ["restaurant_id", 12]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mBooking Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" INNER JOIN "bookings_tables" ON "bookings_tables"."booking_id" = "bookings"."id" INNER JOIN "tables" ON "tables"."id" = "bookings_tables"."table_id" WHERE (time_from >= '2019-06-18 19:00:00' AND time_from < '2019-06-18 19:30:00' OR (time_to > '2019-06-18 19:00:00' AND time_to <= '2019-06-18 19:30:00')) AND (tables.id IN (13)) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mBooking Create (0.6ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 12], ["restaurant_id", 12], ["time_from", "2019-06-18 19:00:00"], ["time_to", "2019-06-18 19:30:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 16], ["table_id", 13]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.3ms)[0m  [1m[32mINSERT INTO "restaurants" ("working_from", "working_to") VALUES ($1, $2) RETURNING "id"[0m  [["working_from", "2019-06-18 10:00:00"], ["working_to", "2019-06-18 23:00:00"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mTable Create (14.9ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 13], ["number", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mTable Create (0.3ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 13], ["number", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mBooking Create (0.7ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 13], ["restaurant_id", 13], ["time_from", "2019-06-18 18:00:00"], ["time_to", "2019-06-18 18:30:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 17], ["table_id", 14]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."number" = $1 AND "tables"."restaurant_id" = $2[0m  [["number", 2], ["restaurant_id", 13]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mBooking Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" INNER JOIN "bookings_tables" ON "bookings_tables"."booking_id" = "bookings"."id" INNER JOIN "tables" ON "tables"."id" = "bookings_tables"."table_id" WHERE (time_from >= '2019-06-18 18:00:00' AND time_from < '2019-06-18 18:30:00' OR (time_to > '2019-06-18 18:00:00' AND time_to <= '2019-06-18 18:30:00')) AND (tables.id IN (15)) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 13], ["restaurant_id", 13], ["time_from", "2019-06-18 18:00:00"], ["time_to", "2019-06-18 18:30:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 18], ["table_id", 15]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bookings"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.5ms)[0m  [1m[32mINSERT INTO "restaurants" ("working_from", "working_to") VALUES ($1, $2) RETURNING "id"[0m  [["working_from", "2019-06-18 10:00:00"], ["working_to", "2019-06-18 23:00:00"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mTable Create (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "number") VALUES ($1, $2) RETURNING "id"[0m  [["restaurant_id", 14], ["number", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mBooking Create (0.8ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 14], ["restaurant_id", 14], ["time_from", "2019-06-18 18:00:00"], ["time_to", "2019-06-19 02:00:00"]]
  [1m[36mBooking::HABTM_Tables Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 19], ["table_id", 16]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."number" = $1 AND "tables"."restaurant_id" = $2[0m  [["number", 1], ["restaurant_id", 14]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mBooking Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" INNER JOIN "bookings_tables" ON "bookings_tables"."booking_id" = "bookings"."id" INNER JOIN "tables" ON "tables"."id" = "bookings_tables"."table_id" WHERE (time_from >= '2019-06-18 16:58:38.768095' AND time_from < '2019-06-18 17:58:38.768095' OR (time_to > '2019-06-18 16:58:38.768095' AND time_to <= '2019-06-18 17:58:38.768095')) AND (tables.id IN (16)) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("user_id", "restaurant_id", "time_from", "time_to") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 14], ["restaurant_id", 14], ["time_from", "2019-06-18 16:58:38.768095"], ["time_to", "2019-06-18 17:58:38.768095"]]
  [1m[36mBooking::HABTM_Tables Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings_tables" ("booking_id", "table_id") VALUES ($1, $2)[0m  [["booking_id", 20], ["table_id", 16]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (18.1ms)[0m  [1m[31mROLLBACK[0m
